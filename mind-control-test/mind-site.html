<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <script src="/assets/Tone.min.js"></script>
    <script src="/assets/socket.io.js"></script>
    <script>
      const socket = io()
      const polySynth = new Tone.PolySynth(8, Tone.Synth).toMaster();

      socket.on('connect', function(){
        console.log('connected to server');
        socket.on('play', function(data){
          console.log('got notes:', data);
          polySynth.triggerAttackRelease(data.notes, "2n");
        })
      });

    </script>
  </body>
</html>
